<html>
    <head>
        <meta charset="utf-8"/>
		<link rel="stylesheet" href="style.css">
		<link href="fontawesome/css/all.css" rel="stylesheet">
		<title>Add Contact</title>
    </head>
	<body id="addcontacts">
		<h2>Add Contact</h2>
		<form id="editForm">
			
			<label for="firstname">First Name</label><br>
			<input type="text" name="firstname" id="firstname">
			<br><br>
			<label for="lastname">Last Name</label><br>
			<input type="text" name="firstname" id="firstname">
			<br><br>
			<label for="mobile">Mobile</label><br>
			<input type="text" name="mobile" id="mobile">
			<br><br>
			<label for="email">Email</label><br>
			<input type="text" name="email" id="email">
			<br><br>
			<label for="avatar">Select a file</label><br>
			<input type="file" name="avatar" id="avatar">
			<br><br>
		
		</form>
		<div id="home-button">
			<button type="submit" id="submitForm"><i class="fa-solid fa-check"></i></button>
			<button id="homeLink" type="button"><i class="fa-solid fa-house"></i></button>
		</div>
		<script src="config.js"></script>
		
		<script>
			
			document.getElementById("submitForm").addEventListener('click',submitForm);
			document.getElementById("homeLink").addEventListener('click',homeLink);
			
			function submitForm(e){
				e.preventDefault();
				
				const form = new FormData(document.querySelector('#editForm'));
				form.append('apiKey',apiKey);
				
				fetch(rootPath + 'controller/insert-contact/',{
					method : 'POST',
					headers: {'Accept':'application/json,*.*'},
					body:form
				})
				.then(function(response){
					return response.text();
				})
				.then(function(data){
					if(data == "1"){
						alert("Contact Added.");
						homeLink();
					}else{
						alert(data);
						homeLink();
					}
				})
			}
			function homeLink(){
				window.open("index.html","_self");
				
			}
		</script>
	</body>
</html>